<div class="container bg-light text-center p-2">
  <h2>Create new product</h2>
  <form class="p-3 ml-5 mr-5 va" [formGroup]="productForm">
    <div class="form-group" [ngClass]="name.valid ? 'was-validated' : ''">
      <input
        formControlName="name"
        placeholder="name"
        class="form-control"
        id="name" aria-describedby="nameHelp"
        name="name">
    </div>
    <div *ngIf="name.touched && name.invalid" class="alert alert-danger">This field is required!</div>
    <div class="form-group">
      <input
        formControlName="shortDescription"
        placeholder="shorthand description"
        class="form-control"
        id="shortDescription"
        name="shortDescription">
    </div>
    <div class="form-group">
      <textarea
        formControlName="description"
        placeholder="Put product description here..."
        class="form-text"
        id="description"
        name="description">
      </textarea>
    </div>
    <div class="form-group" [ngClass]="categoryName.valid ? 'was-validated' : ''">
      <select class="custom-select" formControlName="categoryName">
        <option value="" disabled>Select category</option>
        <option *ngFor="let cat  of categories" [ngValue]="cat">{{cat}}</option>
      </select>
    </div>
    <div *ngIf="categoryName.touched && categoryName.invalid" class="alert alert-danger">This field is required!</div>
    <div class="form-group" [ngClass]="supplier.valid ? 'was-validated' : ''">
      <select class="custom-select" formControlName="supplier">
        <option value="" disabled>Select supplier</option>
        <option *ngFor="let supplier  of suppliers" [ngValue]="supplier">{{supplier.companyName}}</option>
      </select>
    </div>
    <div *ngIf="supplier.touched && supplier.invalid" class="alert alert-danger">This field is required!</div>
    <div class="form-group" [ngClass]="price.valid ? 'was-validated' : ''">
      <input
        formControlName="price"
        type="number"
        placeholder="price"
        class="form-control"
        id="price"
        name="price">
    </div>
    <div *ngIf="price.touched && price.invalid" class="alert alert-danger">This field is required!</div>
    <div class="form-group" [ngClass]="inStock.valid ? 'was-validated' : ''">
      <input
        formControlName="inStock"
        type="number"
        placeholder="inStock"
        class="form-control"
        id="inStock"
        name="inStock">
    </div>
    <div *ngIf="inStock.touched && inStock.invalid" class="alert alert-danger">This field is required!</div>
    <app-image-upload (upload)="getImageData($event)"></app-image-upload>
    <button [disabled]="!this.productForm.valid" type="submit" class="btn btn-success" (click)="onCreate()">Create</button>
  </form>
</div>
